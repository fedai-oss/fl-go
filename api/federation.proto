syntax = "proto3";
package federation;

service FederatedLearning {
  rpc JoinFederation(JoinRequest) returns (JoinResponse);
  rpc SubmitUpdate(ModelUpdate) returns (Ack);
}

message JoinRequest {
  string collaborator_id = 1;
}

message JoinResponse {
  bytes initial_model = 1;
}

message ModelUpdate {
  string collaborator_id = 1;
  bytes model_weights = 2;
}

message Ack {
  bool success = 1;
}
